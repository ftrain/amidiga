# GRUVBOK Hardware Configuration - Teensy 4.1
# This file maps physical hardware pins to GRUVBOK functions

[hardware]
platform=teensy41
description=Default Teensy 4.1 pin mapping

# Button inputs (B1-B16) - Digital pins with INPUT_PULLUP
# Buttons are momentary switches, active-low
[buttons]
B1=0
B2=1
B3=2
B4=3
B5=4
B6=5
B7=6
B8=7
B9=8
B10=9
B11=10
B12=11
B13=12
B14=24
B15=25
B16=26

# Rotary potentiometers (R1-R4) - Analog input pins
# R1: Mode selector (0-14)
# R2: Tempo control (60-240 BPM)
# R3: Pattern selector (0-31)
# R4: Track selector (0-7) OR target mode when in Mode 0
[rotary_pots]
R1=A0   # Pin 14 - Mode
R2=A1   # Pin 15 - Tempo
R3=A2   # Pin 16 - Pattern
R4=A3   # Pin 17 - Track/Target Mode

# Slider potentiometers (S1-S4) - Analog input pins
# These are mode-specific parameters (parameter locking)
[slider_pots]
S1=A4   # Pin 18
S2=A5   # Pin 19
S3=A6   # Pin 20
S4=A7   # Pin 21

# LED output
# Single LED for tempo indication and status
[led]
pin=13         # Onboard LED
pwm=true       # Use PWM for brightness control
brightness=255 # Default brightness (0-255)

# ADC configuration
[adc]
resolution=10  # 10-bit ADC (0-1023)
averaging=4    # Number of samples to average for noise reduction

# MIDI configuration
[midi]
channel_offset=0    # First mode uses MIDI channel 0
usb_midi=true      # Use USB MIDI (Teensy built-in)
serial_midi=false  # Use UART MIDI (requires additional hardware)

# Button debounce
[debounce]
delay_ms=20    # Debounce delay in milliseconds

# Pot filtering
[filtering]
iir_alpha=64        # IIR filter coefficient (0-256, lower = more smoothing)
hysteresis=2        # Hysteresis threshold to reduce jitter
